<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Christmas Night ğŸ„</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    height:100vh;
    overflow:hidden;
    background:radial-gradient(circle at top,#0b1d3a,#020111);
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:"Segoe UI",sans-serif;
}

/* ===== Canvas ===== */
canvas{
    position:fixed;
    inset:0;
    pointer-events:none;
}

/* â„ï¸ é›ªèŠ± */
.snow{
    position:fixed;
    top:-20px;
    color:white;
    pointer-events:none;
    opacity:.9;
}

/* ğŸ„ æ ‘å®¹å™¨ */
.tree-container{
    position:relative;
    width:320px;
    text-align:center;
    z-index:3;
}

/* â­ æ˜Ÿæ˜Ÿ */
.star{
    position:absolute;
    top:-60px;
    left:50%;
    transform:translateX(-50%);
    font-size:50px;
    color:#ffdca8;
    text-shadow:0 0 30px gold;
}

/* ğŸŒ² */
.tree-img{
    width:100%;
    cursor:pointer;
}

/* ğŸ’¡ å½©ç¯ */
.light{
    position:absolute;
    width:9px;
    height:9px;
    border-radius:50%;
    animation:blink 1.6s infinite alternate;
}
@keyframes blink{
    from{opacity:.25}
    to{opacity:1}
}

/* ğŸ’Œ ç¥ç¦è¯­ï¼ˆå åŠ  + æ¸å˜è‰² + æ›´å¿«æ·¡å‡ºï¼‰ */
.blessing{
    position:fixed;
    font-size:26px;
    font-weight:500;
    background:linear-gradient(
        120deg,
        #ffffff,
        #ff9fcf,
        #ffdca8,
        #ffffff
    );
    background-size:300% 300%;
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    animation:
        floatFade 5.2s forwards,
        textGradient 3s ease infinite;
    text-shadow:
        0 0 10px rgba(255,180,220,.35),
        0 0 18px rgba(255,215,168,.25);
    z-index:4;
}

@keyframes textGradient{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

/* â­ æ ¸å¿ƒä¿®æ”¹åœ¨è¿™é‡Œ */
@keyframes floatFade{
    0%{
        opacity:0;
        transform:translate(-50%,18px);
    }
    18%{
        opacity:1;
        transform:translate(-50%,0);
    }
    55%{
        opacity:0.85; /* æå‰å¼€å§‹é€€åœº */
    }
    100%{
        opacity:0;
        transform:translate(-50%,-22px);
    }
}

/* ğŸ”˜ æŒ‰é’® */
.btn{
    position:fixed;
    bottom:40px;
    padding:12px 28px;
    border-radius:30px;
    background:linear-gradient(135deg,#ff9fcf,#ffdca8);
    color:#2a0b2e;
    font-size:18px;
    text-decoration:none;
    box-shadow:0 8px 25px rgba(255,200,220,.4);
    transition:.3s;
    z-index:5;
}
.btn:hover{
    transform:translateY(-4px);
    box-shadow:0 12px 35px rgba(255,200,220,.6);
}
</style>
</head>

<body>

<canvas id="fire"></canvas>

<div class="tree-container" id="treeBox">
    <div class="star">â­</div>
    <img src="tree.png" class="tree-img" id="tree">
</div>

<a class="btn" href="index.html">Back To My Heart</a>

<script>
/* ===== Canvas ===== */
const canvas=document.getElementById("fire");
const ctx=canvas.getContext("2d");
function resize(){
    canvas.width=innerWidth;
    canvas.height=innerHeight;
}
resize(); onresize=resize;

/* ===== çƒŸèŠ± ===== */
let particles=[];
const colors=["#ff9fcf","#ffb7dd","#ffd1dc","#ffdca8"];

function firework(x,y,n=150){
    for(let i=0;i<n;i++){
        const a=Math.random()*Math.PI*2;
        const s=Math.random()*6+1.3;
        const gold=Math.random()<0.2;
        particles.push({
            x,y,
            vx:Math.cos(a)*s,
            vy:Math.sin(a)*s,
            life:gold?180:150,
            z:Math.random()*0.6+0.4,
            color:colors[Math.random()*colors.length|0],
            glow:gold
        });
    }
}

function animate(){
    ctx.fillStyle="rgba(0,0,0,0.18)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    particles.forEach(p=>{
        p.life--;
        p.vy+=0.035;
        p.x+=p.vx;
        p.y+=p.vy;

        ctx.beginPath();
        ctx.fillStyle=p.color;
        ctx.shadowBlur=p.glow?20:10;
        ctx.shadowColor=p.color;
        ctx.arc(p.x,p.y,(p.glow?2.3:1.7)*p.z,0,Math.PI*2);
        ctx.fill();
    });

    ctx.shadowBlur=0;
    particles=particles.filter(p=>p.life>0);
    requestAnimationFrame(animate);
}
animate();

/* â„ï¸ é›ªèŠ± */
setInterval(()=>{
    const s=document.createElement("div");
    s.className="snow";
    s.innerText="â„";
    s.style.left=Math.random()*innerWidth+"px";
    s.style.fontSize=Math.random()*14+10+"px";

    const dur=Math.random()*6+6;
    const drift=(Math.random()*100-50)+"px";
    const pause=Math.random()*2;

    s.animate([
        {transform:"translate(0,0)",opacity:1},
        {transform:`translate(${drift},40vh)`,offset:.5},
        {transform:`translate(${drift},40vh)`,offset:.5+pause/dur},
        {transform:`translate(${drift},110vh)`,opacity:0}
    ],{duration:dur*1000,easing:"linear"});

    document.body.appendChild(s);
    setTimeout(()=>s.remove(),dur*1000);
},180);

/* ğŸ’¡ å½©ç¯ */
const box=document.querySelector(".tree-container");
for(let i=0;i<38;i++){
    const l=document.createElement("div");
    l.className="light";
    l.style.background=colors[Math.random()*colors.length|0];
    l.style.left=Math.random()*260+30+"px";
    l.style.top=Math.random()*360+60+"px";
    l.style.animationDuration=Math.random()*2+1+"s";
    box.appendChild(l);
}

/* ğŸ† ç‚¹å‡» */
const tree=document.getElementById("tree");
const treeBox=document.getElementById("treeBox");

const name="DingDing";
const messages=[
    "åœ£è¯å¿«ä¹ âœ¨",
    "æ„¿æ¸©æŸ”ä¸å…‰ä¸€ç›´é™ªç€ä½ ",
    "æˆ‘çˆ±ä½ ğŸ’–~",
    "ä»Šæ™šçš„çƒŸèŠ±ä¸ºä½ è€Œæ”¾ ğŸ†",
    "å¤œè‰²çœŸç¾å‘€âœ¨~~~",
    "å¤©å¤©å¼€å¿ƒï¼âœ¨",
    "å²å²å¹´å¹´ï¼Œå¹´å¹´å²å²ğŸ†"
];

tree.addEventListener("click",()=>{
    const rect=treeBox.getBoundingClientRect();
    const cx=rect.left+rect.width/2;
    const cy=rect.top+rect.height/3;

    firework(cx,cy,200);
    setTimeout(()=>firework(cx-60,cy+40,140),200);
    setTimeout(()=>firework(cx+60,cy+40,140),380);

    const b=document.createElement("div");
    b.className="blessing";

    const offsetX=Math.random()*120-60;
    const offsetY=Math.random()*80-40;
    b.style.left=cx+offsetX+"px";
    b.style.top=cy-80+offsetY+"px";

    const msg=messages[Math.random()*messages.length|0];
    b.innerHTML=`ğŸ„ ${name} Â· ${msg}`;

    document.body.appendChild(b);
    setTimeout(()=>b.remove(),5200);
});
</script>

</body>
</html>
